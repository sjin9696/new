<!--scrollspy.html-->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>scrollspy</title>
	<script src="jquery/jquery-3.4.1.min.js"></script>
	<link rel="stylesheet" href="animate.css">
	<style>
		*{margin: 0;padding: 0;}
		section{height: 1200px;}
		section:nth-child(1){background-color: #fab;}
		section:nth-child(2){background-color: #abf;}
		section:nth-child(3){background-color: #afb;}
		section:nth-child(4){background-color: #fba;}
		section:nth-child(5){background-color: #baf;}
		.scroll_spy{
			position: fixed;
			right: 20px;top: 50%;
			transform: translateY(-50%);
		}
		.scroll_spy > a{
			display: block; width: 13px;height: 13px;
			border : 1px solid #000; border-radius: 20%;
			margin: 15px;
		}
		.scroll_spy > a.active {
			background-color: #000;
		}
		#area1 > h1 {
			font-size: 90px; text-align: center; padding-top: 300px;
		}
		#area1 > p {
			font-size: 50px; text-align: center;margin-top: 50px;
		}
		#area2 > h1{
			font-size: 50px;text-align: center;  padding-top: 100px;
		}
		.grid{
			width: 1080px;margin: 100px auto;
		}
		.grid_item{
			width: 250px;height: 250px;float: left;
			margin: 10px; background-color: #ccc;
			opacity: 0;
		}
	</style>
	<script>
	$(function(){
		$("#area1 > h1").addClass("animated bounceInDown");
		$("#area1 > p").addClass("animated bounceInDown").css("animation-delay", "0.5s");
		var size_height = 1200;
	  	$(window).scroll(function(){
			var t = $(window).scrollTop();
			$(".scroll_spy > a").removeClass("active");
			var pos = Math.floor(t/size_height);
			console.log(pos);
			$(".scroll_spy > a").eq(pos).addClass("active");
			if(t >= 900){
				$("#area2 > h1").css("opacity",1).addClass("animated slideInLeft");
			}else if(t >= 1200)
				$("#area2 .grid_item").css("opacity",1).addClass("animated jackInTheBox");
			for(var i=0; i<8; i++){
				$("#area2 .grid_item").eq(i).css("animation-delay", i*100+"ms");
			}

			/*if(t>=size_height*4){
				$(".scroll_spy > a").eq(4).addClass("active");
			}
			else if(t > size_height*3){
				$(".scroll_spy > a").eq(3).addClass("active");
			}
			else if(t > size_height*2){
				$(".scroll_spy > a").eq(2).addClass("active");
			}
			else if(t > size_height*1){
				$(".scroll_spy > a").eq(1).addClass("active");
			}else{
				$(".scroll_spy > a").eq(0).addClass("active");
			}*/
		}) //scroll end
		$(".scroll_spy > a").click(function(e){
			e.preventDefault();
			var i = $(this).index();
			console.log(i);
		/*
		$("html,body").stop().animate({"scrollTop":i*size_height+"px"},300);
		*/
			var sectionTop = $("section").eq(i).offset().top;
			$("html,body").stop().animate({"scrollTop":sectionTop+"px"},300);
		}) //click end
	  })//JQ end
	</script>
</head>
<body>
		<section id="area1">
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi, dignissimos.</p>
		</section>
		<section id="area2">
			<h1>Products</h1>
			<div class="grid">
				<div class="grid_item"></div>
				<div class="grid_item"></div>
				<div class="grid_item"></div>
				<div class="grid_item"></div>
				<div class="grid_item"></div>
				<div class="grid_item"></div>
				<div class="grid_item"></div>
				<div class="grid_item"></div>
			</div>
		</section>
		<section></section>
		<section></section>
		<section></section>
		<div class="scroll_spy">
			<a href="#"class="active"></a>
			<a href="#"></a>
			<a href="#"></a>
			<a href="#"></a>
			<a href="#"></a>
		</div>
</body>
</html>
